package com.example.logic;

import java.time.LocalDate;
import java.time.format.DateTimeFormatter;
import java.util.ArrayList;

import org.springframework.http.HttpMethod;

public class CalenderLogic {

	//いつのカレンダーを表示するか？
	public String selectedCalender(HttpMethod httpMethod , String selectedYear , String selectedMonth) {

			LocalDate calenderOfTheMonth;

		    int calenderForOtherYears;
			int calenderForOtherMonths;


		if (httpMethod == HttpMethod.GET) {

			calenderOfTheMonth = LocalDate.now();

		} else {

			calenderForOtherYears = Integer.parseInt(selectedYear);
			calenderForOtherMonths = Integer.parseInt(selectedMonth);

			calenderOfTheMonth = LocalDate.of(calenderForOtherYears, calenderForOtherMonths, 1);
		}

		DateTimeFormatter d = DateTimeFormatter.ofPattern("yyyy年MM月");
		String selectedCalender = calenderOfTheMonth.format(d);

		return selectedCalender;

	}

	//viewのselect年数
	public ArrayList<Integer> selectYear(){

		ArrayList<Integer> year;

		for (int i = 2019; i <= 2030; i++) {
			year.add(i);
		}

		return year;
	}

	//viewのselect月数
	public ArrayList<Integer> selectMonth() {

		ArrayList<Integer> month = new ArrayList<>();

		for (int i = 1; i <= 12; i++) {
			month.add(i);
		}

		return month;

	}

	public int choiceYear(HttpMethod httpMethod , String selectedYear) {

		LocalDate localDate = LocalDate.now();

		if (httpMethod == HttpMethod.GET) {

			int currentYear = localDate.getYear();

			return currentYear;

		} else {

			int currentYear = Integer.parseInt(selectedYear);

			return currentYear;
		}

	}

	public int choiceMonth(HttpMethod httpMethod , String selectedMonth) {

		LocalDate localDate = LocalDate.now();

		if (httpMethod == HttpMethod.GET) {

			int currentMonth = localDate.getMonthValue();

			return currentMonth;

		} else {

			int currentMonth = Integer.parseInt(selectedMonth);

			return currentMonth;
		}

	}

}
